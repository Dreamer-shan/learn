##### 一些基础概念

生编是生单的一部分

生编分两种   政策和直连（调用接口不同）

合单（售前的概念）

实际上是拆分的动作  落库时是多个订单号    是把一次booking请求拆分成多个，多次请求核心交易层trade_core生成多个单，即对应多个机票单

例如3个乘机人，该代理商只有2个座位了，另外一个乘机人就给另外的代理商，但这也叫合单（实际上是拆分的动作）

又例如北京往返上海，拆成了两个单子，这也叫合单

非合单  就一个订单号码



拆单（售后的概念）

例如有4个乘机人，有两个要退票，就需要拆成两个单子。

聚合生单：例如选择了辅营产品、机酒产品，这个时候需要聚合生成各个子单。







变价  生单时是从报价拿到的fd价格   支付时去航信取价格进行对比

如果是政策类，调用基础数据的接口去航信取价格进行对比

如果是运价直连，通过报价去调运价直连的接口进行对比。

最终的价格都来源于航信



失败兜底  生单失败这个生意还要做   重新搜索一个报价   后面还是需要验价的